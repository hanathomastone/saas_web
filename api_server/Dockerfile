FROM amazoncorretto:17.0.7-alpine3.17
LABEL maintainer="hjlee@kai-i.com"

ARG SPRING_PROFILES_ACTIVE
ARG CONFIG_SERVER_ENCRYPT_KEY
ARG CONFIG_SERVER_USERNAME
ARG CONFIG_SERVER_PASSWORD

ENV SPRING_PROFILES_ACTIVE=$SPRING_PROFILES_ACTIVE
ENV CONFIG_SERVER_ENCRYPT_KEY=$CONFIG_SERVER_ENCRYPT_KEY
ENV CONFIG_SERVER_USERNAME=$CONFIG_SERVER_USERNAME
ENV CONFIG_SERVER_PASSWORD=$CONFIG_SERVER_PASSWORD

COPY ./build/libs/dentix-0.0.1-SNAPSHOT.jar application.jar
CMD java -jar ./application.jar